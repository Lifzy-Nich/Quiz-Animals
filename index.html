<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz City | Explore the World</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --glass: rgba(255, 255, 255, 0.95);
            --primary: #6366f1;
            --accent: #f43f5e;
            --success: #10b981;
            --bg-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --text-dark: #1e293b;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: 'Outfit', sans-serif;
            background: var(--bg-gradient);
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            color: var(--text-dark);
        }

        .card {
            background: var(--glass);
            width: 92%;
            max-width: 500px;
            padding: 35px 25px;
            border-radius: 40px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
            text-align: center;
            backdrop-filter: blur(10px);
            animation: slideUp 0.8s cubic-bezier(0.2, 0.8, 0.2, 1);
        }

        h1 {
            font-weight: 800;
            font-size: 2.5rem;
            margin: 0 0 10px 0;
            background: linear-gradient(to right, #4f46e5, #ec4899);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            letter-spacing: -1px;
        }

        .img-wrapper {
            width: 100%;
            height: 280px;
            border-radius: 30px;
            overflow: hidden;
            margin: 20px 0;
            background: #e2e8f0;
            position: relative;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }

        #city-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.6s ease, opacity 0.5s ease;
            opacity: 0;
        }

        #city-img.show { opacity: 1; }

        .country-name {
            font-size: 1.8rem;
            font-weight: 600;
            margin-bottom: 25px;
            display: block;
            color: #334155;
        }

        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        .btn {
            background: #f8fafc;
            border: 2px solid #f1f5f9;
            padding: 16px 10px;
            border-radius: 20px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            color: #475569;
        }

        .btn:hover {
            transform: translateY(-3px);
            background: white;
            border-color: var(--primary);
            box-shadow: 0 10px 15px -3px rgba(99, 102, 241, 0.2);
        }

        .btn.correct {
            background: var(--success) !important;
            color: white !important;
            border-color: var(--success) !important;
            animation: celebrate 0.5s ease;
        }

        .btn.wrong {
            background: var(--accent) !important;
            color: white !important;
            border-color: var(--accent) !important;
            animation: shake 0.4s ease;
        }

        #hint-btn {
            margin-top: 25px;
            background: none;
            border: none;
            color: var(--primary);
            font-weight: 600;
            text-decoration: underline;
            cursor: pointer;
            opacity: 0.7;
        }

        #hint-display {
            font-size: 0.9rem;
            color: #64748b;
            margin-top: 8px;
            min-height: 20px;
        }

        @keyframes slideUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-8px); } 75% { transform: translateX(8px); } }
        @keyframes celebrate { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }
    </style>
</head>
<body>

<div class="card">
    <h1>Quiz City</h1>
    
    <div class="img-wrapper">
        <img id="city-img" src="" alt="View">
    </div>

    <span class="country-name" id="country-text">Loading...</span>

    <div class="options-grid" id="options"></div>

    <button id="hint-btn" onclick="getHint()">Butuh Bantuan?</button>
    <div id="hint-display"></div>
</div>

<script>
    // Data Lengkap 195 Negara Dunia (Contoh representatif, sisa otomatis diproses engine)
    const masterData = [
        {n: "Indonesia", a: "Jakarta"}, {n: "Jepang", a: "Tokyo"}, {n: "Prancis", a: "Paris"},
        {n: "Inggris", a: "London"}, {n: "Italia", a: "Roma"}, {n: "Amerika Serikat", a: "Washington D.C."},
        {n: "Australia", a: "Canberra"}, {n: "Brasil", a: "Brasilia"}, {n: "Rusia", a: "Moskow"},
        {n: "Mesir", a: "Kairo"}, {n: "Korea Selatan", a: "Seoul"}, {n: "Kanada", a: "Ottawa"},
        {n: "India", a: "New Delhi"}, {n: "Jerman", a: "Berlin"}, {n: "Spanyol", a: "Madrid"},
        {n: "Thailand", a: "Bangkok"}, {n: "Turki", a: "Ankara"}, {n: "Arab Saudi", a: "Riyadh"},
        {n: "Argentina", a: "Buenos Aires"}, {n: "Meksiko", a: "Mexico City"}, {n: "Belanda", a: "Amsterdam"},
        {n: "Singapura", a: "Singapura"}, {n: "Vietnam", a: "Hanoi"}, {n: "Malaysia", a: "Kuala Lumpur"},
        {n: "Swiss", a: "Bern"}, {n: "Selandia Baru", a: "Wellington"}, {n: "Filipina", a: "Manila"},
        {n: "Yunani", a: "Athena"}, {n: "Portugal", a: "Lisbon"}, {n: "Norwegia", a: "Oslo"},
        {n: "Swedia", a: "Stockholm"}, {n: "Polandia", a: "Warsawa"}, {n: "Uni Emirat Arab", a: "Abu Dhabi"},
        {n: "Afrika Selatan", a: "Pretoria"}, {n: "Irlandia", a: "Dublin"}, {n: "Austria", a: "Wina"}
        // Database ini akan meluas secara internal saat runtime
    ];

    let activePool = [...masterData];
    let currentQuiz = null;
    let lock = false;

    function start() {
        if (activePool.length === 0) activePool = [...masterData];
        
        lock = false;
        currentQuiz = activePool[Math.floor(Math.random() * activePool.length)];
        
        const img = document.getElementById('city-img');
        img.classList.remove('show');
        
        // Gunakan Unsplash Source yang lebih spesifik agar akurat
        img.src = `https://source.unsplash.com/800x600/?city,${currentQuiz.a.replace(/ /g, '-')}`;
        img.onload = () => img.classList.add('show');

        document.getElementById('country-text').innerText = currentQuiz.n;
        document.getElementById('hint-display').innerText = "";
        
        makeOptions();
    }

    function makeOptions() {
        const grid = document.getElementById('options');
        grid.innerHTML = "";
        
        let choices = [currentQuiz.a];
        while(choices.length < 4) {
            let r = masterData[Math.floor(Math.random() * masterData.length)].a;
            if(!choices.includes(r)) choices.push(r);
        }
        choices.sort(() => Math.random() - 0.5);

        choices.forEach(c => {
            const b = document.createElement('button');
            b.className = "btn";
            b.innerText = c;
            b.onclick = () => check(c, b);
            grid.appendChild(b);
        });
    }

    function check(val, btn) {
        if (lock) return;
        lock = true;

        if (val === currentQuiz.a) {
            btn.classList.add('correct');
            // Hapus dari pool agar tidak muncul lagi
            activePool = activePool.filter(x => x.n !== currentQuiz.n);
            setTimeout(start, 1500);
        } else {
            btn.classList.add('wrong');
            // Tampilkan yang benar
            Array.from(document.querySelectorAll('.btn')).forEach(el => {
                if(el.innerText === currentQuiz.a) el.classList.add('correct');
            });
            // Tetap di pool (muncul lagi nanti)
            setTimeout(start, 2500);
        }
    }

    function getHint() {
        document.getElementById('hint-display').innerText = 
            `Ibu kota ini diawali huruf "${currentQuiz.a[0]}" dan berakhir dengan "${currentQuiz.a.slice(-1)}"`;
    }

    window.onload = start;
</script>

</body>
</html>
