<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz City | Luxury Edition</title>
    <link href="https://fonts.googleapis.com/css2?family=Marcellus&family=Plus+Jakarta+Sans:wght@300;600;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --matte-black: #121212;
            --glossy-black: #1f1f1f;
            --gold: #d4af37;
            --gold-light: #f1d592;
            --text-gray: #a0a0a0;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background-color: var(--matte-black);
            color: white;
            font-family: 'Plus Jakarta Sans', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow: hidden;
        }

        /* Background Glossy Effect */
        body::before {
            content: "";
            position: absolute;
            width: 150%;
            height: 150%;
            background: radial-gradient(circle at center, #252525 0%, transparent 70%);
            z-index: -1;
        }

        .container {
            width: 90%;
            max-width: 450px;
            background: var(--glossy-black);
            padding: 40px 25px;
            border-radius: 40px;
            border: 1px solid rgba(212, 175, 55, 0.3);
            box-shadow: 0 30px 60px rgba(0,0,0,0.8), inset 0 0 20px rgba(212, 175, 55, 0.05);
            text-align: center;
            position: relative;
            animation: containerEntry 1s cubic-bezier(0.2, 0.8, 0.2, 1);
        }

        h1 {
            font-family: 'Marcellus', serif;
            font-size: 2.5rem;
            color: var(--gold);
            letter-spacing: 4px;
            margin-bottom: 5px;
            text-transform: uppercase;
            text-shadow: 0 0 15px rgba(212, 175, 55, 0.3);
        }

        .divider {
            height: 1px;
            width: 60px;
            background: var(--gold);
            margin: 0 auto 25px;
        }

        .img-frame {
            width: 100%;
            height: 280px;
            border-radius: 25px;
            padding: 10px;
            background: linear-gradient(145deg, #2a2a2a, #1a1a1a);
            box-shadow: 5px 5px 15px #0a0a0a, -5px -5px 15px #262626;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        #city-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 18px;
            filter: grayscale(30%) contrast(1.1);
            transition: 0.5s ease;
            opacity: 0;
        }

        #city-img.loaded { opacity: 1; }

        .country-title {
            font-family: 'Marcellus', serif;
            font-size: 1.8rem;
            margin-bottom: 25px;
            color: var(--gold-light);
            display: block;
        }

        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .btn {
            background: #181818;
            border: 1px solid #333;
            padding: 18px 10px;
            border-radius: 15px;
            color: #eee;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 3px 3px 10px #0a0a0a;
        }

        .btn:hover {
            border-color: var(--gold);
            transform: translateY(-5px);
            background: #222;
            color: var(--gold);
        }

        .btn.correct {
            background: var(--gold) !important;
            color: var(--matte-black) !important;
            border-color: var(--gold) !important;
            box-shadow: 0 0 30px rgba(212, 175, 55, 0.5);
        }

        .btn.wrong {
            background: #441111 !important;
            border-color: #ff4444 !important;
            animation: shake 0.5s;
        }

        .hint-container {
            margin-top: 30px;
        }

        #hint-toggle {
            color: var(--text-gray);
            font-size: 0.85rem;
            cursor: pointer;
            transition: 0.3s;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        #hint-toggle:hover { color: var(--gold); }

        #hint-text {
            color: var(--gold-light);
            font-size: 0.9rem;
            margin-top: 10px;
            height: 20px;
            font-style: italic;
        }

        /* Animations */
        @keyframes containerEntry {
            from { opacity: 0; transform: translateY(50px) scale(0.9); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }
    </style>
</head>
<body>

<div class="container">
    <h1>Quiz City</h1>
    <div class="divider"></div>

    <div class="img-frame">
        <img id="city-img" src="" alt="View">
    </div>

    <span class="country-title" id="country-display">Loading...</span>

    <div class="options-grid" id="options"></div>

    <div class="hint-container">
        <span id="hint-toggle" onclick="getHint()">Butuh Bantuan?</span>
        <p id="hint-text"></p>
    </div>
</div>

<script>
    // Data Lengkap Ibu Kota Dunia
    const database = [
        {n: "Indonesia", a: "Jakarta"}, {n: "Prancis", a: "Paris"}, {n: "Jepang", a: "Tokyo"},
        {n: "Brasil", a: "Brasilia"}, {n: "Italia", a: "Roma"}, {n: "Inggris", a: "London"},
        {n: "Australia", a: "Canberra"}, {n: "Jerman", a: "Berlin"}, {n: "Mesir", a: "Kairo"},
        {n: "Filipina", a: "Manila"}, {n: "Korea Selatan", a: "Seoul"}, {n: "Rusia", a: "Moskow"},
        {n: "Thailand", a: "Bangkok"}, {n: "Singapura", a: "Singapura"}, {n: "Belanda", a: "Amsterdam"},
        {n: "Arab Saudi", a: "Riyadh"}, {n: "Turki", a: "Ankara"}, {n: "Vietnam", a: "Hanoi"},
        {n: "Malaysia", a: "Kuala Lumpur"}, {n: "Spanyol", a: "Madrid"}, {n: "Swiss", a: "Bern"},
        {n: "Selandia Baru", a: "Wellington"}, {n: "India", a: "New Delhi"}, {n: "Meksiko", a: "Mexico City"},
        {n: "Argentina", a: "Buenos Aires"}, {n: "Kanada", a: "Ottawa"}, {n: "Yunani", a: "Athena"},
        {n: "Portugal", a: "Lisbon"}, {n: "Norwegia", a: "Oslo"}, {n: "Austria", a: "Wina"}
    ];

    let current = {};
    let activeList = [...database];
    let isLocked = false;

    function init() {
        if (activeList.length === 0) activeList = [...database];
        isLocked = false;
        
        current = activeList[Math.floor(Math.random() * activeList.length)];
        
        const img = document.getElementById('city-img');
        img.classList.remove('loaded');
        
        // PEMECAH MASALAH GAMBAR: Gunakan 2 sumber berbeda
        // Sumber utama: Pixabay (melalui proxy) atau Unsplash dengan parameter kaku
        const cityQuery = encodeURIComponent(current.a + " city architecture skyline");
        img.src = `https://images.weserv.nl/?url=https://source.unsplash.com/800x600/?${cityQuery}`;
        
        img.onload = () => img.classList.add('loaded');
        img.onerror = () => {
            img.src = `https://loremflickr.com/800/600/${current.a},city,building`;
        };

        document.getElementById('country-display').innerText = current.n;
        document.getElementById('hint-text').innerText = "";
        
        renderOptions();
    }

    function renderOptions() {
        const grid = document.getElementById('options');
        grid.innerHTML = "";
        
        let pool = [current.a];
        while(pool.length < 4) {
            let fake = database[Math.floor(Math.random() * database.length)].a;
            if(!pool.includes(fake)) pool.push(fake);
        }
        pool.sort(() => Math.random() - 0.5);

        pool.forEach(city => {
            const b = document.createElement('button');
            b.className = 'btn';
            b.innerText = city;
            b.onclick = () => check(city, b);
            grid.appendChild(b);
        });
    }

    function check(val, btn) {
        if(isLocked) return;
        isLocked = true;

        if(val === current.a) {
            btn.classList.add('correct');
            activeList = activeList.filter(i => i.n !== current.n);
            setTimeout(init, 1500);
        } else {
            btn.classList.add('wrong');
            Array.from(document.querySelectorAll('.btn')).forEach(b => {
                if(b.innerText === current.a) b.classList.add('correct');
            });
            setTimeout(init, 2500);
        }
    }

    function getHint() {
        document.getElementById('hint-text').innerText = 
            `Berawal dengan "${current.a[0]}" dan terdiri dari ${current.a.length} huruf.`;
    }

    window.onload = init;
</script>

</body>
</html>
